function getNotification(){$("#myNotificationBody").html("");var t=wpuser.wpuser_update_setting;$.ajax({type:"post",dataType:"json",url:wpuser.wpuser_ajax_url+"?action=wpuser_get_notification",data:"wpuser_update_setting="+t,success:function(t){"warning"==t.status?$("#myNotificationBody").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+t.message+"</div>"):"success"==t.status&&($("#myNotification").show(),$("#myProfileSection").hide(),0===t.notifications.length?$("#myNotificationBody").html("No data Found"):$.each(t.notifications,function(t,i){if(1==i.is_unread)var a="alert-info";else var a="";if("follow"==i.type_of_notification)var e="fa fa-users";else if("order"==i.type_of_notification)var e="fa fa-shopping-cart";else if("support"==i.type_of_notification)var e="fa fa-support";else if("rate"==i.type_of_notification)var e="fa fa-star";else if("comment"==i.type_of_notification)var e="fa fa-comment";else if("post"==i.type_of_notification)var e="fa fa-thumb-tack";else var e="fa fa-check";var o="";if(null!=i.body_html)var o="<br>"+i.body_html;if(null==i.href||0===i.href.length||"#"==i.href)var n=" ";else var n=" href='"+i.href+"' target='_blank' ";$("#myNotificationBody").append('<div id="notification_'+i.id+'" class="notification_'+i.id+" col-md-12 "+a+' alert-dismissible" onclick="readNotification('+i.id+')"><button type="button" class="close" data-toggle="tooltip" data-original-title="Delete Notification" onclick="removeNotification('+i.id+')" data-dismiss="alert" aria-hidden="true">×</button><a '+n+'><h4><i class="icon '+e+'"></i>'+i.title_html+"</h4></a>"+o+'<br><i class="fa fa-clock-o"></i> '+relative_time(i.created_time)+"</div>")}))}})}function removeNotification(t){var i=wpuser.wpuser_update_setting;$.ajax({type:"post",dataType:"json",url:wpuser.wpuser_ajax_url+"?action=wpuser_delete_notification",data:"id="+t+"&wpuser_update_setting="+i,success:function(i){if("success"==i.status){$(".notification_"+t).hide();var a=$("#notification_count").html();a-=1,$("#notification_count").val(a),$(".notification_count").html(a),0==t&&($("#myNotification").hide(),$("#notification_dropdown").hide(),$("#myProfileSection").show())}}})}function readNotification(t){var i=wpuser.wpuser_update_setting;$.ajax({type:"post",dataType:"json",url:wpuser.wpuser_ajax_url+"?action=wpuser_read_notification",data:"id="+t+"&wpuser_update_setting="+i,success:function(i){"success"==i.status&&$(".notification_"+t).removeClass("alert-info")}})}function closeNotification(){$("#myNotification").hide(),$("#myProfileSection").show()}function relative_time(t){if(t){t=$.trim(t),t=t.replace(/\.\d\d\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");var i=new Date(t),a=arguments.length>1?arguments[1]:new Date,e=parseInt((a.getTime()-i)/1e3);e=2>e?2:e;var o="";return o=60>e?e+" seconds ago":120>e?"a minute ago":2700>e?parseInt(e/60,10).toString()+" minutes ago":7200>e?"an hour ago":86400>e?""+parseInt(e/3600,10).toString()+" hours ago":172800>e?"a day ago":parseInt(e/86400,10).toString()+" days ago","about "+o}}