jQuery(document).ready(function(){function e(e,a,t){var r="object"!=typeof e?JSON.parse(e):e,i="";if(t){var u="";for(var n in r[0])u+=n+",";u=u.slice(0,-1),i+=u+"\r\n"}for(var l=0;l<r.length;l++){var u="";for(var n in r[l]){var c=null==r[l][n]?"":""+r[l][n];u+=c+","}u.slice(0,u.length-1),i+=u+"\r\n"}if(""==i)return void growl.error("Invalid data");if(a)var a=a;else var a="wpuser";if(s()){var o=window.open();o.document.write("sep=,\r\n"+i),o.document.close(),o.document.execCommand("SaveAs",!0,a+".csv"),o.close()}else{var d="data:application/csv;charset=utf-8,"+escape(i),p=document.createElement("a");p.href=d,p.style="visibility:hidden",p.download=a+".csv",document.body.appendChild(p),p.click(),document.body.removeChild(p)}}function s(){var e=window.navigator.userAgent,s=e.indexOf("MSIE ");return-1!=s||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}jQuery("#update_setting").click(function(e){post_id=jQuery(this).attr("data-post_id"),nonce=jQuery(this).attr("data-nonce"),jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_update_setting",data:jQuery("#wpuser_update_setting").serialize(),success:function(e){0==e.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+e.message+"</div>"):1==e.status&&jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+e.message+"</div>")}})}),jQuery("#update_security_setting").click(function(e){post_id=jQuery(this).attr("data-post_id"),nonce=jQuery(this).attr("data-nonce"),jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_update_setting",data:jQuery("#wpuser_update_security_setting").serialize(),success:function(e){0==e.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+e.message+"</div>"):1==e.status&&jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+e.message+"</div>")}})}),jQuery("#update_email_setting").click(function(e){post_id=jQuery(this).attr("data-post_id"),nonce=jQuery(this).attr("data-nonce"),jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_update_setting",data:jQuery("#wpuser_update_email_setting").serialize(),success:function(e){0==e.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+e.message+"</div>"):1==e.status&&jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+e.message+"</div>")}})}),jQuery("#wpuser_bulk_action").click(function(s){jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_bulk_process",data:jQuery("#wpuser_bulk_action_form").serialize(),success:function(s){0==s.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+s.message+"</div>"):1==s.status&&jQuery.each(s.userlist,function(a,t){if("Approve"==s.bulk_action)jQuery("#status_"+t).html('<i style="color:green" class="status fa fa-fw fa-check-circle-o">Approved</i>'),jQuery("#user_action_"+t).html('<a><span class="user_action" id="user_action_'+t+'"><span style="color:red">Deny </span></span></a>'),jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+s.message+"</div>");else if("Deny"==s.bulk_action)jQuery("#status_"+t).html('<i style="color:red" class="status fa fa-fw  fa-minus-circle">Denied</i>'),jQuery("#user_action_"+t).html('<a><span class="user_action" id="user_action_'+t+'"><span style="color:green">Approve </span></span></a>'),jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+s.message+"</div>");else if("Export"==s.bulk_action){var r=s.data;return e(r,"wpuser_list",!0),jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+s.message+"</div>"),!1}})}})}),jQuery("#wpuser_clear_log_action").click(function(e){jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_clear_log",data:"wpuser_update_setting="+wpuser_link.wpuser_update_setting,success:function(e){0==e.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+e.message+"</div>"):1==e.status&&jQuery("#login_log").html("No Login Logs Found"),jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+e.message+"</div>")}})}),jQuery("#update_page_setting").click(function(e){jQuery.ajax({type:"post",dataType:"json",url:wpuser_link.wpuser_ajax_url+"?action=wpuser_update_page_setting",data:jQuery("#wpuser_update_page_setting").serialize(),success:function(e){0==e.status?jQuery("#response_message").html('<div class="alert alert-danger alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-ban"></i> Error!</h4>'+e.message+"</div>"):1==e.status&&(jQuery("#response_message").html('<div class="alert alert-success alert-dismissible"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> Success!</h4>'+e.message+"</div>"),jQuery("#wp_user_page_permalink_text").html(e.wp_user_page.permalink),jQuery("#wp_user_page_permalink").attr("href",e.wp_user_page.permalink),jQuery("#wp_user_member_page_text").html(e.wp_user_member_page.permalink),jQuery("#wp_user_member_page_permalink").attr("href",e.wp_user_member_page.permalink))}})})});